<form>
<div class="container">
    <div class="row">
      <div class="col align-self-center">
        <p>
          <a routerLink="/choferes">
            Choferes..!
          </a>
        </p>
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

        <!--- Note that these columns can be defined in any order.
              The actual rendered columns are set as a property on the row definition" -->

        <!--ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef> Id </th>
          <td mat-cell *matCellDef="let element"> {{element.id}} </td>
        </ng-container-->

        <!-- Name Column -->
        <ng-container matColumnDef="nombre">
          <th mat-header-cell *matHeaderCellDef> Nombre </th>
          <td mat-cell *matCellDef="let element"> {{element.nombre}} </td>
        </ng-container>

        <!-- Weight Column -->
        <ng-container matColumnDef="matricula">
          <th mat-header-cell *matHeaderCellDef> Matricula </th>
          <td mat-cell *matCellDef="let element"> {{element.matricula}} </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="autobuses">
          <th mat-header-cell *matHeaderCellDef> Autobuses </th>
          <td mat-cell *matCellDef="let element">
            <mat-select [(value)]="element.autobuses" >
              <mat-option *ngFor = "let link of element.autobuses" [value] = "link.serie" disabled="disabled">
                {{ link.serie }}
              </mat-option>
            </mat-select>
          </td>
        </ng-container>

        <ng-container matColumnDef="telefono">
          <th mat-header-cell *matHeaderCellDef> Telefono </th>
          <td mat-cell *matCellDef="let element"> {{element.telefono}} </td>
        </ng-container>

        <ng-container matColumnDef="ayudantes">
          <th mat-header-cell *matHeaderCellDef> Ayudantes </th>
          <td mat-cell *matCellDef="let element">
            <mat-select [(value)]="element.ayudantes" >
              <mat-option *ngFor = "let link of element.ayudantes" [value] = "link.nombre" disabled="disabled">
                {{ link.nombre }} - {{ link.edad.toString() }}
              </mat-option>
            </mat-select>
          </td>
        </ng-container>

        <ng-container matColumnDef="accion">
          <th mat-header-cell *matHeaderCellDef> Acci√≥n </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <button mat-fab color="secondary" class="buttons-g" (click)="editButton(element)">
              <mat-icon>mode</mat-icon>
            </button>
            <button mat-fab color="warn" class="buttons-g" (click)="deleteButton(i)">
              <mat-icon>delete</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
      <p></p>
      <p align="right">
        <button mat-raised color="secondary" class="buttons-g" (click)="newButton()">
          <mat-icon>add</mat-icon>
        </button>
      </p>
    </div>
  </div>
</div>
</form>
<ng-template #template >
  <form novalidate [formGroup]="choferForm" >
      <div class="card-header">
        <strong>{{title}}</strong>
      </div>
      <div class="card-body">
        <mat-form-field for="nombre">
          <mat-label>Nombre: </mat-label>
          <input matInput type="text" formControlName="nombre" name="nombre" placeholder="Ingrese nombre" disabled>
          <mat-error *ngIf="isControlHasError('nombre', 'required')">
            El campo es requerido
          </mat-error>
        </mat-form-field>
        <p></p>
        <mat-form-field for="matricula">
          <mat-label>Matricula: </mat-label>
          <input  matInput type="text" formControlName="matricula" placeholder="Ingrese matricula" disabled>
        </mat-form-field>
        <p></p>
        <mat-form-field for="autobuses">
          <mat-label>Autobuses:</mat-label>
          <mat-select formControlName="autobuses">
              <mat-option *ngFor="let bus of busID " [value]="bus.id">
                {{bus.serie}}
              </mat-option>
          </mat-select>
        </mat-form-field>
        <p></p>
        <mat-form-field for="telefono">
          <mat-label>Telefono: </mat-label>
          <input  matInput type="text" formControlName="telefono" placeholder="Ingrese telefono" disabled>
        </mat-form-field>
        <p></p>
        <mat-form-field for="ayudantes">
          <mat-label>Ayudantes:</mat-label>
          <mat-select [(ngModel)]="busID" [ngModelOptions]="{standalone: true}">
            <!--mat-optgroup *ngFor=" let autobuses of choferForm" [label]="autobuses"-->
            <mat_option *ngFor="let ayudantes " [values]="ayudantes.edad"></mat_option>
          </mat-select>
        </mat-form-field>
      </div>
        <!--button mat-button *ngIf="nombre" matSuffix mat-icon-button aria-label="nombre" (click)="nombre=''">
          <mat-icon>close</mat-icon>
        </button-->
  </form>
</ng-template>

